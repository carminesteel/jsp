var key, word, order, desc, perpage, CurPage=1;

	getList();
	$("#btnSearch").on("click", function(){
		CurPage=1; getList(); 
		});
	
	$("#selOrder, #selDesc, #selperpage").change(function(){
		CurPage=1; getList(); 
		});
	
	$("#txtWord").keydown(function(key){
		if(key.keyCode==13){ CurPage=1; getList(); }
		});
	
	$("#btnNext").click(function(){ CurPage++; getList(); });
	
	$("#btnPre").click(function(){ CurPage--; getList(); });
	//교수목록 출력을 위한 함수
	function getList(){
		key=$("#selKey").val();
		word=$("#txtWord").val();
		order=$("#selOrder").val();
		desc=$("#selDesc").val();
		perpage=$("#selperpage").val();
		$.ajax({
			type:"get",
			url:url,
			data:{"key":key,"word":word,"CurPage":CurPage,"perpage":perpage,"order":order,"desc":desc},
			dataType:"json",
			success:function(data){
				var template = Handlebars.compile($("#temp").html());
				$("#tbl").html(template(data));
				
				if(data.page==1){
					$("#btnPre").attr("disabled",true);
				}else{ $("#btnPre").attr("disabled",false); }
				
				if(data.page==data.totPage){
					$("#btnNext").attr("disabled",true);
				}else{ $("#btnNext").attr("disabled",false);}
				
				$("#curPage").html(data.page);
				$("#totPage").html(data.totPage);
				$("#count").html(data.count);
			}
		});
	}